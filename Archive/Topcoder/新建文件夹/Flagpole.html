<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p><i>Time limit is 4 seconds.</i></p>
<br></br>
<p>
The leader of the neighboring country has just unveiled a giant flagpole with their national flag.
Our national pride is hurt.
We need a bigger flagpole.
(True story.)
</p>
<p>
Their flagpole measures <b>LO</b> nanometers.
The maximum safe height of a flagpole is <b>HI</b> nanometers.
</p>
<br></br>
<p>
A flagpole is built by placing one or more segments on top of each other.
The final height of the flagpole is the sum of heights of segments used.
</p>
<p>
Our government must purchase all flagpole segments from its only official flagpole segment provider.
The lengths of the segments the provider has in their warehouse are given in the vector &lt;int&gt; <b>segments</b>.
(All segments are distinct: even if they have the same length, they have different colors.)
</p>
<br></br>
<p>
Count all ways in which we can purchase a subset of the available segments if we want a safe flagpole that is bigger than what our neighbors have.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>Flagpole</td></tr><tr><td>Method:</td><td>build</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, long long, long long</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long build(vector &lt;int&gt; segments, long long LO, long long HI)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>4.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Note that we want you to return the exact number of ways in which a subset of segments can be selected, and not the number modulo something (as is sometimes the case in similar problems).</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>segments</b> will have between 1 and 40 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>segments</b> will be between 1 and 2*10^9, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>LO</b> will be between 1 and 10^11, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>HI</b> will be between <b>LO</b>+1 and 10^11, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{10, 10, 10, 10, 10}</pre></td></tr><tr><td><pre>9</pre></td></tr><tr><td><pre>49</pre></td></tr></table></td></tr><tr><td><pre>Returns: 30</pre></td></tr><tr><td><table><tr><td colspan="2">Out of the 2^5 = 32 possible purchases only two are invalid: 
<ul>
<li>If we don't purchase any segments, our flagpole will have height 0 and our neighbors will laugh at us.</li>
<li>If we purchase all five segments, the flagpole will exceed the maximum safe height.</li>
</ul></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{10, 10, 10, 10, 10}</pre></td></tr><tr><td><pre>30</pre></td></tr><tr><td><pre>39</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">There is no solution: either we make a flagpole that is at most as long as our neighbor's, or we make one that is too tall to be safe.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1, 2, 4, 8, 16, 32, 64, 128}</pre></td></tr><tr><td><pre>47</pre></td></tr><tr><td><pre>100</pre></td></tr></table></td></tr><tr><td><pre>Returns: 53</pre></td></tr><tr><td><table><tr><td colspan="2">For each of the heights 48-100 there is exactly one way to purchase some segments that sum to the chosen flagpole height.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{50, 10, 40, 30, 20}</pre></td></tr><tr><td><pre>45</pre></td></tr><tr><td><pre>63</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2">We can build a flagpole of height 50 as 50, 10+40, or 20+30. We can build a flagpole of height 60 as 10+50, 20+40, or 10+20+30.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
