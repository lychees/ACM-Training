\documentclass{noiassignment}

\begin{document}

%% 解题报告开始

\title{Bestcoder Round20 解题报告}
\author{浙江省余姚中学~~张浩威}

\maketitle

\section{摘要}

这是我在bestcoder上最早出的一套题目，在这里分享一下出题的过程，试题可以在\uline{http://bestcoder.hdu.edu.cn/contests/contest\_show.php?cid=552}找到。

\section{1001}

\subsection{题目大意}

有n个人，每个人将投票给一个人，求最终谁得到的票数最多，若票数相同，输出编号较小的人的编号。共有T组数据。

\subsection{数据范围}

$1\leq T \leq 50, 1\leq n \leq 100.$

\subsection{解析}

利用数组边读入边累计每个人的票数，最终枚举每个人并更新答案就可以了。

本题是为了照顾刚入门的同学，让其能在bestcoder的比赛中得到分数而设计的。

\section{1002}

\subsection{题目大意}

在X轴上有n条线段，每条线段形如$X_i$至$Y_i$，令A为被线段覆盖最多的点的位置，求A被覆盖了多少条线段。共有T组数据。

\subsection{数据范围}

$1\leq T \leq 10, 1\leq n \leq 10^5, 1\leq X_i \leq Y_i \leq 10^9.$

\subsection{解析}

考虑最暴力的做法，我们将所有线段所覆盖的点在数组中表示出来，最后进行线扫找最优解。这个复杂度是$O(10^9*n)$的。

我们现在要优化这个做法。

注意到每条线段是可以离散化的，复杂度可以降为$O(n^2)$。

事实上我们不需要通过枚举在数组中表示，而是可以直接用两个端点来表示，最终进行前缀和操作就能实现原来的操作了。

具体的可以令f[$X_i$]+=1,f[$Y_i$+1]-=1,最终令所有f[i]+=f[i-1]。这样f就表示每个点被线段覆盖的次数了，求最大值即可。

另外本题是可以通过two point来解决的，这个题目是有普及组难度的，需要有一定基础的同学才做的出来。

\section{1003}

\subsection{题目大意}

有n个人，每个人手里有两种类型的魔法球，并且每个魔法球有其质量，设为$A_i$和$B_i$。最多可以进行m次操作，每次操作可以将一个人手里的两个魔法球交换，即swap($A_i,B_i$)。最终要使A的最长上升子序列最大。共有T组数据。

\subsection{数据范围}

$1 \leq T \leq 5, 1 \leq n,m \leq 1000, 1 \leq A_i,B_i \leq 10^9.$

\subsection{解析}

考虑经典的最长上升子序列问题。

令dp[i]表示以i这个数字结尾的最长上升子序列是多少。

对于枚举到位置x，且$a_x$=i，有dp[i]=max\{dp[j]+1\}$(1 \leq j \leq i-1)$，其中枚举状态时可以通过树状数组来加速，时间复杂度为$O(nlog_2n)$。

那么对于这个题目，我们可以令dp[i][j]表示当前使用了i次操作，且以j这个数字结尾的最长上升子序列是多少，转移与经典题类似，维护m棵树状数组就可以解决了。

该题的难度上升至提高组难度，考察了经典题与数据结构的综合应用，但对于实力较高的选手仍是“一眼题”。

\section{1004}

\subsection{题目大意}

在一个三维平面内，维护两种操作。1：在一个三维坐标上加入一个点；2：查询一个三维空间内有多少点。共有T组数据。

\subsection{数据范围}

$1 \leq$操作次数$1 \leq 50000, 1 \leq T \leq 5.$

\subsection{解析}

我们可以通过cdq分治来解决这个问题，即损失一个$log_2n$的复杂度将在线问题转换为离线问题。

按第一维进行排序，(x1,y1,z1)至(x2,y2,z2)的点的个数可以表示为(0,y1,z1)至(x2,y2,z2)的点的个数减去(0,y1,z1) 至(x1-1,y2,z2) 的点的个数。

将第二维离散化，按第二维建立权值线段树，再按第三维建立平衡树(即树套树)，每次查询只需在线段树中对应的$log_2n$个区间的平衡树中查找相应的点的个数就可以了。

时间复杂度为$nlog_2^3n$，空间复杂度为nlgn。另外这题也可以用cdq分治套cdq分治套线段树（树状数组）来写。

对于n维问题通过分治后可以转化为n-1维的问题。

本题考查的是选手对于数据结构的应用能力。

\section{得分情况}

共508人通过1001,194人通过1002,53人通过1003,4人通过1004。

\section{总结}

这套题目就区分度而言是十分不错的。

不足之处是对于高水平选手来说每道题目的思维复杂度都较为简单，有待改进。

\end{document}
