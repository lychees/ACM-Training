\documentclass{noiassignment}

\begin{document}

%% 解题报告开始

\title{Bestcoder Round57 解题报告}
\author{浙江省余姚中学~~张浩威}

\maketitle

\section{摘要}

这是我在bestcoder考的较好的比赛场次之一，在这里分享一下做题的过程，试题可以在\uline{http://bestcoder.hdu.edu.cn/contests/contest\_show.php?cid=633}找到。

\section{1001}

\subsection{题目大意}

在一个n*m的国际象棋棋盘中有K辆车，每辆车能攻击它同行同列的位置。

有Q个询问，每次询问一个矩阵中是否所有点都能被车攻击到。

\subsection{数据范围}

$1 \leq Q,n,m,K \leq 100000.$

\subsection{解析}

这道题我拿到了全场的FB(3分11秒，第二滴血产生在4分02秒)。

注意到一个矩阵中如果所有点都能被车攻击到，那么每行或者每列都存在车，因此可以将两维问题转化为两个一维问题来做。

现在的问题就是如何判断一个区间是否都有车。这是可以通过前缀和或者并查集来解决的。

时间复杂度为$O(n+m+K+Q)$。

\section{1002}

\subsection{题目大意}

在一根数轴上有n个区间的集合。

在这个集合中等概率选择一个子集，求取出的子集的区间并集的期望长度，输出期望长度乘以$2^n$对$10^9+7$取模后的结果。

空集的长度认为是0。

\subsection{数据范围}

$1\leq n \leq 100000, -10^9\leq l \leq r \leq 10^9.$

\subsection{解析}

本题在比赛过程中我也是拿到了FB。

根据期望的线性性，很容易地就能发现我们可以分别统计每一小段的期望出现次数，把这些次数累加起来就可以了。

假设这一小段被m个区间覆盖，就会有$2^n-2^{n-m}$的子集能够包含这一小段，把长度乘上出现次数累加进答案就可以了。

时间复杂度为$O(nlog_2n)$。

\section{1003}

\subsection{题目大意}

在字符集大小为K的情况下，求长度为n且有m个互不相同的非空子串的串有多少个。

答案对$10^9+7$取模。共有T组数据。

\subsection{数据范围}

$1 \leq T \leq 50000, 1 \leq n \leq 10,1 \leq m \leq 100, 1 \leq K \leq 10^9.$

\subsection{解析}

乍看这道题目可能没有什么好的解法。由于字符集非常大，且题目中存在“不同的子串”这个概念，是没有办法直接做的。

注意到n最多只有10，也就是说字符集这么大其实并没有什么用。

我们现在需要求出这样一个数组：dp[i][j][k]表示共i字符，其中有j个不同的字符，不同的子串个数为k的方案总数。

在求答案的时候，只需枚举不同的字符个数，乘上组合数累加进答案就可以了。

这个dp数组实际上是可以暴力的，注意到将j个字符调换顺序对k是没有影响的，因此枚举只需$Bell_n$种可能就可以了。

时间复杂度为$O(Bell_n*n^2+T*n)$

\section{1004}

\subsection{题目大意}

给定一张n个点的带权无向图，问有多少条边必定在这张图的最小生成树上。

\subsection{数据范围}

$1 \leq n \leq 3000,1 \leq $边权$\leq 3000.$

\subsection{解析}

初看数据范围，解法肯定是与读入同阶的。

首先我们先将最小生成树求出来，由于边权较小，是可以通过桶排序来做到$O(n^2)$的。

对于每条非树边，都对应着最小生成树上的一条链，如果这条链上有条边的边权与该非树边相等，那么这条边是不一定在最小生成树上的。

因此题目转换为了覆盖每条树边的非树边的边权最小值是多少。

我们可以枚举每个点作为根，用其中一端在根上的非树边来覆盖这棵树，这是可以通过打标记做到$O(n)$ 的，这样之后再枚举树边判断是否一定在最小生成树上就可以了。

至此，总复杂度为$O(n^2)$。

\section{得分情况}

共165人通过1001,87人通过1002,12人通过1003,12人通过1004。

\section{总结}

与我出的4套题相比，这套题的难度稍微下降了一些，从得分情况中还是能看出对于一般选手有较好的区分度。

有6名选手将4道题目全部AC，意味着对于水平较高的选手还是需要有较难的1004来将它们区分的。

\end{document}
