
\chapter{ACM/ICPC World Finals 2002~(9/9)}

\section{[A]Balloons in a Box}
\subsection{题意简述}
长方体内或外有~$n$~个备选点，每次可以选一个还未被覆盖且在长方体内的点，在该点放置气球，使其膨胀，直到碰到长方体边界或已有的气球。

最小化长方体内没被气球占据的体积。

【数据范围】$n\leq 6$。
\subsection{算法分析}
搜索放置顺序，计算当前点到已放置气球的点和边界的距离，求最大半径，计算体积。

【时间复杂度】$O(n!)$，【空间复杂度】$O(n)$。

\section{[B]Undecodable Codes}
\subsection{题意简述}
给出一组~$n$~个二进制编码，找出最短的串（多解找字典序最小的），使其有多种解释方法。

【数据范围】$n\leq 20,L=\text{编码长度}\leq 20$。
\subsection{算法分析}
肯定从开头出现歧义，并使两种情况都有对应解码。任何时候都是在消除另一种情况多余部分，而这个多余部分肯定是某个编码的后缀，用多余部分来表示状态。

类似~$spfa$~或~$dijkstra$~求单源最短路，枚举用来消除多余部分的编码来转移。

【时间复杂度】$O(n^2L\log{nL}\times L)$，【空间复杂度】$O(nL^2)$。

\section{[C]Crossing the Desert}
\subsection{题意简述}
平面上~$n$~个点，每走~$1$~单位距离需要消耗~$1$~单位水和食物。起点可以购买食物，补充水，中途有若干点可以补充水，不能购买食物但可以储藏食物。
且任意时刻能携带的水和食物的上限为~$tot$~。求从起点走到终点至少需要多少食物。

【数据范围】$n\leq 20$。
\subsection{算法分析}
到终点肯定食物恰好用完，从终点倒推，dijkstra求最短路，根据距离更新其他点到达终点需要储存的最小食物量（先考虑最后一次搬运，然后计算往返搬运的次数）。

需要注意~$1$~单位食物的输出为~1 unit~，而不是~1 units~。

【时间复杂度】$O(n^2)$，【空间复杂度】$O(n)$。

\section{[D]Ferries}
\subsection{题意简述}
给出一条线路中每段的属性，若为公路则驾车，速度任意；若为水路则坐渡轮，渡轮在每小时内只有固定的几个时间点才有，且该路程所需时间固定。
若驾车限速~$80km/h$~，问最早到达时间。并求限速最小为多少，还能以相同时间到达。

【数据范围】$n\leq 10000$(原题未说明~$n$~的上届)。
\subsection{算法分析}
按~$80km/h$~的速度，计算每段时间，模拟行驶过程，求出最早时间。然后二分最大速度，用相同的模拟过程，求最早的时间，与之前的时间比较。

【时间复杂度】$O(\log\frac{1}{eps}\times n)$，【空间复杂度】$O(n)$。

\section{[E]Island Hopping}
\subsection{题意简述}
给出~$n$~个点的位置和权值，两点间距离为欧几里德距离。

选长度和最小的边集使所有点连通，所有边同时开始建，建边的时间正比于边的长度，求每个点和第一个点连通的时间的加权平均数。

【数据范围】$n\leq 50$。
\subsection{算法分析}
长度和最小边集即最小生成树，实际方案对平均值无影响。

在prim时求每个点连到的最短时间。

在kruskal时记录每点的总人数。

【时间复杂度】$O(n^2)$，【空间复杂度】$O(n^2)$。

\section{[F]Toil for Oil(WA)}
\subsection{题意简述}
给出一个~$n$~边形，边界上有洞，求该多边形内部能容纳的油的面积，如图中灰色部分。

\begin{center}
\includegraphics[width=20em]{WF02F}
\end{center}

【数据范围】$n\leq 100$。
\subsection{算法分析}
用平行于所有顶点的直线把多边形切开，那么形成若干梯形，梯形内要么全部有油，要么完全没有。

从下到上扫出每个区域（用当前区间的中位线去切，若多边形的边有交则加入上边界和下边界，最后对两者排序可得到对应关系），若当前连通块下已有洞，那么上面部分就不可能有油，把连通块标记为不可行。而上面部分对当前区间无影响，直接将当前区间内的可行面积累加到答案。

并查集维护连通块，同时用下边界（在当前区间统计前）和上边界（在统计后）上的洞来更新连通块的状态（注意上下边界都要）。

【时间复杂度】$O(n^2\log{n})$，【空间复杂度】$O(n)$。

\section{[G]Partitions}
\subsection{题意简述}
一个矩形的划分是指把一个矩形分成若干个较小的、不重叠的子矩形。若状态~$A$~能继续划分得到状态~$B$~，则定义~$A<B$~。给出原矩形同为~$w\times h$~的情况~$A$~、~$B$~，求满足~$A<C$~ 且~$B<C$~ 中最小的~$C$~，以及满足~$D<A$~且~$D<B$~中最大的~$D$~。

【数据范围】$w,h\leq 20$。
\subsection{算法分析}
~$C$~就是两种划分的并，直接将所有线求并即可。而~$D$~是交集，直接求交会产生一些悬空的线，判断悬空的线（存在一侧没有两条垂直边且没有延伸边）并去掉即可。

【时间复杂度】$O(w\times h)$，【空间复杂度】$O(w\times h)$。

\section{[H]Silly Sort}
\subsection{题意简述}
给出~$n$~个不同的数，每次可以交换任意两个，代价为两数之和。用最小代价将其从小到大排序。

【数据范围】$n\leq 1000$。
\subsection{算法分析}
排序后确定置换群，求出每个置换，对于每个置换有两种方案：

\begin{enumerate}[itemindent=1em]
  \item 用该置换中的最小值和其他的换。
  \item 引入全局最小值，用该最小值和其他的换，然后换出去。
\end{enumerate}

两种方案取最小值即可。

【时间复杂度】$O(n)$，【空间复杂度】$O(n)$。

\section{[I]Merrily, We Roll Along!}
\subsection{题意简述}
给出一条分为~$n$~段的凹凸不平的道路，求半径为~$R$~的轮子的圆心的轨迹的长度。

【数据范围】$n\leq 50$。
\subsection{算法分析}
将边扩展成为圆心的轨迹：水平边上移，竖直边向另一侧移，顶点扩展成~$90^\circ$~圆弧。

求出所有交点（线段和圆弧、圆弧和圆弧），得到圆弧上顺时针下一个，线段正方向下一个交点（开链表记，需要能找到反向边，然后从反向边位置找下一点），走一遍即可找出上轮廓。

也可以边走边求，每次求所有交点，找出最早冲突的，作为这次的旋转角度。

【时间复杂度】$O(n^2\log n)$，【空间复杂度】$O(n^2)$。
