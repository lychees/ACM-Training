\section{331D3 Escaping on Beaveractor}
\subsection*{试题大意}
$m*m$的平面上有n个平行于坐标轴的箭头，一个箭头是一条有方向的线段。一个人在这个平面上走，走到箭头后方向就会变成它的方向了。

现在有Q个询问，每次给定初始点与一个方向，以每秒1单位的速度移动，问移动$t_i$秒后在哪里。

$n,m,Q\leq 10^5$~,~$t_i\leq 10^{15}$
\subsection*{算法}
可以用扫描线+线段树预处理出从每条箭头的末端或者询问的点出发，向某个方向前进第一个碰到的箭头是哪个。每个箭头当成一个点，向从它出发第一个碰到的箭头连一条边，这就是一个环套外向树的结构。

每次询问只要在这个结构上倍增即可。
\subsection*{时间复杂度：$O((n+q)logm~+~qlog~t_i)$，空间复杂度：$O(n+q+m)$}
