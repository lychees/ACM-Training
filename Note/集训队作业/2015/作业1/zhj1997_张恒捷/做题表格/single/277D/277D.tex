\section{277D Google Code Jam}
\subsection*{试题大意}
有n道大题，每道大题有两小题，做对的得分分别为~${s_1}_i,{s_2}_i$，所需的时间分别为~${t_1}_i,{t_2}_i$。第一小题一定能做对，第二小题必须要完成第一小题后才能做，且第二小题有~$p_i$~的概率做错。现在有~$t$~时间来做这些题。做题目的总用时为正确做完的最后一小题的完成时间。求期望总分的最大值，和满足期望总分最大的前提下，最少的期望用时。

$n\leq 1000~,~t\leq 1560$
\subsection*{算法}
假设做的题目的集合已确定，如何安排顺序使得总用时最少。

	首先显然是先把全部的第一小题安排在前面，所以只考虑第二小题的排列。假设第二小题的最优排列中，题目~$i$~和~$j$~是相邻的，它们的贡献是
	$$(S+{t_2}_i)p_j(1-p_i)P+(S+{t_2}_i+{t_2}_j)(1-p_j)P$$
	其中~$S,P$~都是常数。现在交换~$i,j$，要求现在的贡献大于刚才的贡献，消去常数，即
	\begin{align*}
		{t_2}_ip_j(1-p_i)+({t_2}_i+{t_2}_j)(1-p_j) &< {t_2}_jp_i(1-p_j)+({t_2}_i+{t_2}_j)(1-p_i) \Longrightarrow \\
		-{t_2}_ip_ip_j-{t_2}_jp_j &< -{t_2}_jp_ip_j-{t_2}_ip_i \Longrightarrow \\
		{t_2}_ip_i(1-p_j) &< {t_2}_jp_j(1-p_i)
	\end{align*}
	
	所以把每道大题按上面的规则排序，然后直接动态规划即可。
\subsection*{时间复杂度：$O(nt)$，空间复杂度：$O(t)$}
