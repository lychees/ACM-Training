\section{283E Cow Tennis Tournament}
\subsection*{试题大意}
n值奶牛，每只奶牛有一个能力值Si。任意两只奶牛交手总是能力值大的赢。有m个操作，每次操作给出两个整数ai,bi,所有能力值在[ai,bi] 之间的奶牛，它们互相之间交手的结果会恰好相反。

计算有多少(p,q,r)使得p打败q，q打败r，r打败p。
\subsection*{算法}
如果a能打败b，则a向b连边。现在来算不满足题目条件的三元组，答案可以从总方案数减去它得到。

如果一个三元组不满足题目条件，那肯定有一只奶牛有两条入度边，且唯一对应。设ai为能打败i的牛的数量，那么最终答案就等于$n*(n-1)*(n-2)/6 - \sum{\frac{ai*(ai-1)}{2}}$

现在考虑操作的影响，把交手结果写成n*n的01表，一个操作相当于翻转一个子矩阵内的交手结果。这个可以用扫描线+线段树轻松解决。
\subsection*{时间复杂度：$O((n+m)logn)$，空间复杂度：$O(n+m)$}
