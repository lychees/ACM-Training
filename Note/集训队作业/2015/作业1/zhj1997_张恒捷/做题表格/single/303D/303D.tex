\section{303D Rotatable Number}
\subsection*{试题大意}
如果在b进制下，一个长度为n的数字x满足：x*1,x*2...x*n这些数字与x的n种通过旋转得到的数字相同，则称x在b进制下是一个循环数。允许有前导0。下面是一个例子：
\begin{align*}
142857 * 1 = 142857;\\
142857 * 2 = 285714;\\
142857 * 3 = 428571;\\
142857 * 4 = 571428;\\
142857 * 5 = 714285;\\
142857 * 6 = 857142
\end{align*}

给出n，x。求最大的b$(1<b<x)$，满足存在一个长为n的在b进制下的循环数。

$1\leq n\leq 5\times10^6, 2\leq x \leq 10^9$
\subsection*{算法}
将循环数看成一个小数的循环节部分，比如142857看成$0.\dot{1}4285\dot{7}$。设这个数是$\frac{1}{p}$，通过Midy's theorem可以证得$p=n+1$。

现在反过来，考虑一个循环小数$\frac{1}{p}$要满足什么条件，它的循环部分才可以当做循环数。考虑b 进制下的除法过程，循环小数的第i位为$\lfloor \frac{b^i mod~p}{p} \rfloor$。$b^i~mod~p$形成了一个环状的结构，而如果要满足$\frac{1}{p}$，$\frac{2}{p}$...$\frac{p-1}{p}$满足循环数的条件，就要满足在i在$[1,p-1]$内，$b^i~mod~p$互不相同（因为$\frac{x}{p}$相当与从x开始进入环状结构）。从中得到p 与b互质，p是质数，且b是p的一个原根。

回到原题，由于b要是n+1的原根，所以从大到小只要枚举最多n+1个b进行验证就行了。

要特判n=1的情况。
\subsection*{时间复杂度：$O(nlogn)$，空间复杂度：$O(logn)$}
