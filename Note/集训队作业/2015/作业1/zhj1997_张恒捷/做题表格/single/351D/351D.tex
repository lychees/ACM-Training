\section{351D The Red Button}
\subsection*{试题大意}
假如你有一个n元素的数列a，你每次可以这样操作：

找v,t,k，满足 $a[v]=a[v+t]=\dots =a[v+tk]$

然后把它们全部删除，再由你来重排一遍。

现在有一个n元素的数列b，有m个询问，每次问你将$[li,ri]$的数字取出来后的数列清空最少要几步。

$n\leq 10^5,m\leq 10^5$

\subsection*{算法}
有重排在，每次肯定可以将一种颜色的清空，除了第一次。问题成了2个：求一段数列中有多少互不相同的数字。求一段数列中是否有一种颜色的数字间隔都相同。

离线+树状数组。

\subsection*{时间复杂度：$O((n+m)logn)$，空间复杂度：$O(n)$}
