\section{325E The Red Button}
\subsection*{试题大意}
N个点，从0到N-1编号，i向 $2i~modulo~n$与 $(2i+1)~modulo~n$连边。求从0开始遍历所有数字有且仅有一遍回到0 的方案。

$2\leq n \leq 10^{5} $

\subsection*{算法}
为了方便，接下来所有编号都是在模N下的，比如x实际表示的是x modulo N。

N为奇数时肯定无解，因为要连向0的点为0与$\lfloor \frac{n}{2} \rfloor $,连向n-1的为$\lfloor \frac{n}{2} \rfloor $ 与 n-1，由于自己到自己本身就两遍了，所以$\lfloor \frac{n}{2} \rfloor $要同时连向0与n-1，所以无解。

当N为偶数时，x连出去点是2x与2x+1,$x+\frac{n}{2}$连出去的点是$(x+\frac{n}{2}) \times 2= 2x$ 与 $(x+\frac{n}{2}) \times 2+1 = 2x+1$，发现x与$x+\frac{n}{2}$ 连出去的点是相同的。

就是说，如果你选择了从x走向2x，那么$x+\frac{n}{2}$只能走向2x+1，反之亦然。

现在，随便选一个满足上述条件的方案，可能会形成不止一个环，现在考虑怎么把两个环并起来。

一个奇怪的定理：如果有两个以上的环，那么一定存在一个x使得x与$x+\frac{n}{2}$在不同的环中。

证明：因为x与$x+\frac{n}{2}$在同一个环中，那么2x与2x+1也一定在这个环里。用这种方法可以推得所有点都在同一个环中。

现在，假设x与$x+\frac{n}{2}$不在同一个环中，x连向2x+A,$x+\frac{n}{2}$连向2x+B（$A+B=1$）。如果把它们反一下，x连向2x+B,$x+\frac{n}{2}$连向2x+A，那么就会把这两个环并在一起。

事实上还有一个更方便的方法：

考虑把x 与$x+\frac{n}{2}$ 看成一个点，把相同的边合并，原图就变成了一张$\frac{n}{2}$个点，每个点两条出边两条入边，题目转换成了经过每条边仅一次的方案，求一遍欧拉路就行了。

\subsection*{时间复杂度：$O(n)$，空间复杂度：$O(n)$}
