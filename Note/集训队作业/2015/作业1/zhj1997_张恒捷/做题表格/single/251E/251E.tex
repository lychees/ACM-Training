\section{251E Tree and Table}
\subsection*{试题大意}
把一棵2n个点的树塞进一张2*n的表中。表中每个格子表示树的一个节点。树中相邻的点在表中也要相邻。求方案数。

$n\leq 100000$
\subsection*{算法}
如果n=1，答案为2

如果树是一条链，则答案可以手推得到。

否则树中一定有一个点度数为3。很显然它在表中占据了中间的位置，且与之相邻的3个点分别放进了表中相邻的3个格子中。如下图所示，这里可以连同问号的对应点枚举每一种情况。在这里这些点具体在表中的哪些位置是不需要知道的，只要确定它们的相对位置就可以了。就是说只要左右两端没有单个的，且中间全部都填满了，那最终它们在表中的位置也就知道了。

\includegraphics[height=3cm]{single/251E/5.png}

先定义$G(x,y)$为x节点与y节点分别在2行的表的最左端的匹配方案数，比如上图的X右半部分。那肯定是x与y一开始都是一条长长的链，之后有一个用完了所有的节点，变成了$F(x)$。

再定义$F(x)$为x节点在2行的表的最左端的匹配方案数。如图：

\includegraphics[height=3cm]{single/251E/1.png}

考虑它的转移，先找到x子树中离x最近的拥有2个儿子的节点y。

转移1：如果这时y的一个儿子是一条链，则可以用这条链和x到y的链去覆盖前面的格子，比如这样：

\includegraphics[height=3cm]{single/251E/2.png}

转移2：如果x到y的链已经全部覆盖，那y的2个儿子可以去覆盖之后的格子，比如这样：

\includegraphics[height=3cm]{single/251E/3.png}

转移3：比较难想到。如果y的一个儿子拥有一条链与一棵子树，则这个儿子的链可以与x到y的链覆盖前面的，比如这样：

\includegraphics{single/251E/4.png}

可以证明没有其他情况了。

用dp求F与G就可以了。
\subsection*{时间复杂度：$O(n)$，空间复杂度：$O(n)$}
