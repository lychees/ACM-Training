<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Minimum Average Weight Path</TITLE>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Minimum Average Weight Path</DIV><DIV class="time-limit"><DIV class="property-title">time limit per test</DIV>8 seconds</DIV><DIV class="memory-limit"><DIV class="property-title">memory limit per test</DIV>256 megabytes</DIV><DIV class="input-file"><DIV class="property-title">input</DIV>stdin</DIV><DIV class="output-file"><DIV class="property-title">output</DIV>stdout</DIV></DIV><DIV class="legend"><P>In mathematics, a graph is a representation of a set of objects where some pairs of the objects are connected by links. The interconnected objects are represented by mathematical abstractions called vertices, and the links that connect some pairs of vertices are called edges. A path in a graph is a sequence of vertices, and for any 2 adjacent <SPAN class="tex-span"><I>u</I>,&thinsp;<I>v</I></SPAN>, there is a edge from <SPAN class="tex-span"><I>u</I></SPAN> to <SPAN class="tex-span"><I>v</I></SPAN> in graph. A path contains at least one edge. In the graph in Sample 2, <SPAN class="tex-span">{3,&thinsp;3,&thinsp;2,&thinsp;2}</SPAN> can form a path from 3 to 2. </P><P>One of the common problem is to find the shortest path between two certain vertices, or all of them. They've been well studied as the single source shortest path problem (<SPAN class="tex-font-style-bf">SSSP</SPAN>) and the all pairs shortest paths problem (<SPAN class="tex-font-style-bf">APSP</SPAN>).</P><P>In this problem, we'll provide you a derivation analogous to <SPAN class="tex-font-style-bf">APSP</SPAN>. You've been given a directed graph with positive or negative edge weights. We define the average weight of a path, as the sum of the edge weights divide the edges number of path. Now you need to find the minimum average weight between all pairs of vertices (<SPAN class="tex-font-style-bf">APMAWP</SPAN>). </P></DIV><P></P><P></P><DIV class="input-specification"><DIV class="section-title">Input</DIV><P></P><P>The first line contains two integer <SPAN class="tex-span"><I>n</I></SPAN>, <SPAN class="tex-span"><I>m</I></SPAN>, (<SPAN class="tex-span">1&thinsp;&thinsp;&le;&thinsp;&thinsp;<I>n</I>&thinsp;&le;&thinsp;&thinsp;10<SUP class="upper-index">2</SUP>,&thinsp;1&thinsp;&thinsp;&le;&thinsp;&thinsp;<I>m</I>&thinsp;&thinsp;&le;&thinsp;&thinsp;10<SUP class="upper-index">4</SUP></SPAN> ) the number of the vertices and the number of the edges.</P><P>The next <SPAN class="tex-span"><I>m</I></SPAN> lines, each line contains three intergers <SPAN class="tex-span"><I>u</I>,&thinsp;<I>v</I>,&thinsp;<I>w</I></SPAN>, representing a directed edge from <SPAN class="tex-span"><I>u</I></SPAN> to <SPAN class="tex-span"><I>v</I></SPAN> with weight <SPAN class="tex-span"><I>w</I></SPAN>. (<SPAN class="tex-span">|<I>w</I>|&thinsp;&thinsp;&le;&thinsp;&thinsp;10<SUP class="upper-index">3</SUP></SPAN>)</P><P>There is no multi-edge. It can contain self-loops. </P></DIV><P></P><P></P><DIV class="output-specification"><DIV class="section-title">Output</DIV><P></P><P>A <SPAN class="tex-span"><I>n</I>&thinsp;&times;&thinsp;<I>n</I></SPAN> matrix representing the <SPAN class="tex-font-style-bf">APMAWP</SPAN>. The <SPAN class="tex-span"><I>j</I></SPAN>'s element of the <SPAN class="tex-span"><I>i</I></SPAN>'s row represents the <SPAN class="tex-font-style-bf">minimum average weight</SPAN> of all the paths from vertex <SPAN class="tex-span"><I>i</I></SPAN> to vertex <SPAN class="tex-span"><I>j</I></SPAN>. If no such path exists, you need to output <SPAN class="tex-font-style-bf">"NO"</SPAN> instead (DO NOT output quote please). For each real number, you need to keep exactly 3 digits after digit point.</P></DIV><P></P><P></P><DIV class="sample-tests"><DIV class="section-title">Sample test(s)</DIV><P></P><P></P><DIV class="sample-test"><DIV class="input"><DIV class="title">Input</DIV><PRE class="content">4 4<BR>2 1 2<BR>1 3 -8<BR>2 4 -6<BR>4 3 1<BR></PRE></DIV><DIV class="output"><DIV class="title">Output</DIV><PRE class="content">NO NO -8.000 NO<BR>2.000 NO -3.000 -6.000<BR>NO NO NO NO<BR>NO NO 1.000 NO<BR></PRE></DIV><DIV class="input"><DIV class="title">Input</DIV><PRE class="content">5 8<BR>3 3 735<BR>2 1 946<BR>4 2 276<BR>2 2 -990<BR>3 2 -162<BR>4 4 -18<BR>3 5 783<BR>5 5 -156<BR></PRE></DIV><DIV class="output"><DIV class="title">Output</DIV><PRE class="content">NO NO NO NO NO<BR>-990.000 -990.000 NO NO NO<BR>-990.000 -990.000 735.000 NO -156.000<BR>-990.000 -990.000 NO -18.000 NO<BR>NO NO NO NO -156.000<BR></PRE></DIV></DIV></DIV></DIV><P></P> 

</BODY></HTML>
